import{_ as b,j as g,k as y,r as p,o as l,c as v,a,t as n,l as f,e as c,n as h,b as i,f as F,T as k,p as x,g as C}from"./index-7ffa8c13.js";const E="/assets/upload-c4ce89c0.svg";const w={name:"ApplyFormModal",components:{FormInput:g,FormTextarea:y},data(){return{name:"",email:"",message:"",selectedFile:null,success:!1,emailError:!1,nameError:!1,errors:{name:"",email:""}}},watch:{name:function(e){e&&!this.validateName(e)?this.nameError=!0:this.nameError=!1},email:function(e){e&&!this.validateEmail(e)?this.emailError=!0:this.emailError=!1}},methods:{validateName(){if(/^[a-zA-Zа-яА-Я\s]+$/.test(this.name))this.errors.name="";else return(navigator.language||navigator.userLanguage).startsWith("ru")?this.errors.name="Имя должно содержать только буквы":this.errors.name="Name must contain only letters",!1;return!0},validateEmail(){if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email))(navigator.language||navigator.userLanguage).startsWith("ru")?this.errors.email="Адрес электронной почты должен содержать символ @ и доменное имя":this.errors.email="Email address must contain @ symbol and domain name";else return this.errors.email="",!0;return!1},onFileChange(e){const s=e.target.files[0];s&&(this.selectedFile=s.name)},removeFile(){this.selectedFile=null,this.$refs.fileInput.value=""},async submitForm(){this.errors={};const e=new FormData;e.append("name",this.name),e.append("email",this.email),e.append("message",this.message),e.append("_subject","New resume from "+this.name),e.append("file",this.file);try{const s=await fetch("https://formspree.io/f/xdovzenz",{method:"POST",body:e,headers:{Accept:"application/json"}});if(s.ok)this.success=!0,this.name="",this.email="",this.message="";else{const d=await s.json();d.errors&&(this.errors=d.errors)}}catch(s){console.error(s)}}}},m=e=>(x("data-v-c05df2a4"),e=e(),C(),e),I={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},V={class:"modal-dialog"},A={class:"modal-content custom-modal"},L={class:"modal-header border-0"},N={class:"modal-title fs-3",id:"staticBackdropLabel"},j=m(()=>a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),B={class:"modal-body"},z={class:"container mb-4"},S={class:"d-flex justify-content-center"},T={class:"flex-grow-1 text-center"},M={key:0},D={key:1},U=m(()=>a("span",{class:"px-3"},"X",-1)),Z=[U],q={key:1},W=m(()=>a("img",{class:"px-3",src:E,alt:""},null,-1)),O=[W],P=m(()=>a("input",{name:"subject",type:"hidden",value:"New resume from {{ name }}"},null,-1)),R=m(()=>a("input",{type:"text",name:"_gotcha",style:{display:"none"}},null,-1)),X={class:"d-grid gap-2 d-md-flex justify-content-md-start"},G=["disabled"],H={type:"reset",class:"btn btn-secondary cancel-button","data-bs-dismiss":"modal"},J={key:0,class:"alert alert-success custom-success"};function K(e,s,d,Q,t,r){const u=p("FormInput"),_=p("FormTextarea");return l(),v(k,{to:"body"},[a("div",I,[a("div",V,[a("div",A,[a("div",L,[a("h1",N,n(e.$t("apply-form[0].title")),1),j]),a("div",B,[a("form",{onSubmit:s[6]||(s[6]=f((...o)=>r.submitForm&&r.submitForm(...o),["prevent"]))},[c(u,{type:"text",label:e.$t("apply-form[1].name"),modelValue:t.name,"onUpdate:modelValue":s[0]||(s[0]=o=>t.name=o),class:h({"is-invalid":t.nameError}),error:t.errors.name,name:"Candidate name",required:""},null,8,["label","modelValue","class","error"]),c(u,{type:"email",label:e.$t("apply-form[2].email"),modelValue:t.email,"onUpdate:modelValue":s[1]||(s[1]=o=>t.email=o),class:h({"is-invalid":t.emailError}),error:t.errors.email,name:"Candidate email",required:""},null,8,["label","modelValue","class","error"]),c(_,{label:e.$t("apply-form[3].message"),modelValue:t.message,"onUpdate:modelValue":s[2]||(s[2]=o=>t.message=o),name:"Candidate message"},null,8,["label","modelValue"]),a("div",z,[a("div",S,[a("div",{class:"file-upload-container d-flex align-items-center",onClick:s[5]||(s[5]=o=>e.$refs.fileInput.click())},[a("input",{type:"file",ref:"fileInput",onChange:s[3]||(s[3]=(...o)=>r.onFileChange&&r.onFileChange(...o)),name:"Resume",hidden:""},null,544),a("div",T,[t.selectedFile?(l(),i("span",D,n(t.selectedFile),1)):(l(),i("span",M,n(e.$t("apply-form[5].resume")),1))]),t.selectedFile?(l(),i("div",{key:0,onClick:s[4]||(s[4]=f((...o)=>r.removeFile&&r.removeFile(...o),["stop"]))},Z)):(l(),i("div",q,O))])])]),P,R,a("div",X,[a("button",{type:"submit",class:"btn btn-primary primary-button",disabled:!t.name||!t.email},n(e.$t("primary-button[4].name")),9,G),a("button",H,n(e.$t("apply-form[6].cancel")),1)])],32),t.success?(l(),i("div",J,n(e.$t("apply-form[4].success")),1)):F("",!0)])])])])])}const $=b(w,[["render",K],["__scopeId","data-v-c05df2a4"]]);export{$ as A};
